webpackJsonp([2],{"+0Qw":function(n,t){},"+2lo":function(n,t,e){"use strict";var r=e("AMV0"),o=e.n(r),i=e("RRo+"),a=e.n(i),s=e("lHA8"),l=e.n(s),c=e("pFYg"),u=e.n(c),d=e("woOf"),f=e.n(d),p=e("fZjL"),h=e.n(p),g=e("hiCB"),v=e.n(g),m=e("jvAH"),w=e.n(m),b=e("9j4o"),_=e("eJxA"),y=e("8soT");function k(){return parseInt((1+Math.random())*(v.a/2)).toString(16).slice(0,8)}function x(n){return n?h()(n).map(function(t){return t+": "+n[t]+";"}).reduce(function(n,t){return n+t},""):null}function A(n,t){var e=(new w.a.graphlib.Graph).setGraph(t),r=n.nodes,o=n.links;return r.forEach(function(n){return e.setNode(n.id,function(n){var t={label:String(n.id),shape:n.shape?n.shape:"rect"};return f()(t,n,{style:x(f()({rx:"5px",ry:"5px",stroke:"#8cc9d6",fill:"#c8e4ea","stroke-width":"1.5px"},n.style)),labelStyle:x(f()({"font-weight":"500","font-family":"'Helvetica Neue', Helvetica, Arial, sans-serf","font-size":"14px"},n.labelStyle))})}(n))}),o.forEach(function(n){return e.setEdge(n.from,n.to,function(n){var t={label:"",arrowhead:"normal",labelpos:"c",curve:y.d};return f()(t,n,{style:x(f()({fill:"none",stroke:"#ededed","stroke-width":"1.5px"},n.style)),labelStyle:x(f()({"font-weight":"500","font-family":"'Helvetica Neue', Helvetica, Arial, sans-serf","font-size":"14px",background:"#ededed","border-radius":"4px",padding:"4px 8px 5px 8px"},n.labelStyle)),arrowheadStyle:x(f()({fill:"#ededed"},n.arrowheadStyle))})}(n))}),e}function S(n){document.querySelectorAll(n+" text").forEach(function(n){return function(n){var t=n.getBBox();if(t.width||t.height){var e=document.createElementNS("http://www.w3.org/2000/svg","rect"),r=getComputedStyle(n),o=parseInt(r["padding-top"],10),i=parseInt(r["padding-left"],10),a=parseInt(r["padding-right"],10),s=parseInt(r["padding-bottom"],10);e.setAttribute("x",t.x-parseInt(r["padding-left"],10)),e.setAttribute("y",t.y-parseInt(r["padding-top"],10)),e.setAttribute("width",t.width+i+a),e.setAttribute("height",t.height+o+s),e.setAttribute("fill",r["background-color"]),e.setAttribute("rx",r["border-radius"]),e.setAttribute("stroke-width",r["border-top-width"]),e.setAttribute("stroke",r["border-top-color"]),n.hasAttribute("transform")&&e.setAttribute("transform",n.getAttribute("transform")),n.parentNode.insertBefore(e,n)}}(n)})}function E(n,t,e,r){return"function"==typeof t?t(e,r):a()(t)?t:"function"==typeof n?n(e,r):n}function D(n,t){var e=document.querySelector(n);if(!e)throw Error("No element is selected using `"+n+"`.");if(e&&"svg"!==e.tagName)throw Error("Selected element's tag is not 'svg'.");var r,i=(r="g",document.createElementNS("http://www.w3.org/2000/svg",r));e.innerHTML="",e.appendChild(i);var a=function(n){var t={rankdir:"TB",align:void 0};return n?f()(t,n):t}(t.options);try{t=A(function(n){if(!n||"object"!==(void 0===n?"undefined":u()(n)))throw new Error("Input graph is not an object.");if(n.options&&"object"!==u()(n.options))throw new Error("Options of the graph is not an object.");var t=n.nodes,e=n.links;if(!Array.isArray(e))throw new Error("`links` of the graph is not an Array.");if(!Array.isArray(t))throw new Error("`nodes` of the graph is not an Array.");if(!t.every(function(n){return n.id}))throw new Error("Some nodes don't have `id` property.");if(!e.every(function(n){return n.from&&n.to}))throw new Error("Some links don't have `from` or `to` property.");var r=new l.a(t.map(function(n){return n.id}));if(!e.every(function(n){return r.has(n.from)&&r.has(n.to)}))throw new Error("Some links' vertexes don't appear in nodes.");return n}(t),a)}catch(n){return void console.log("catch",n.message)}var s=new w.a.render,c=b.k(n+" > g");s(c,t),function(n,t,e,r){var i=b.k(e),a=document.querySelector(e).getBoundingClientRect(),s=a.width,l=a.height,c=t.graph(),u=c.width,d=c.height,f=E((s-u)/2,r.xOffset,s,u),p=E(60,r.yOffset,l,d);if(o()(f)){var h=_.a().on("zoom",function(){n.attr("transform",b.e.transform)});i.call(h),i.call(h.transform,_.b.translate(f,p)),n.attr("transform","translate("+f+", "+p+")")}}(c,t,n,a),S(n)}e.d(t,"a",function(){return k}),e.d(t,"b",function(){return D})},"+Tn7":function(n,t){},"3ZDw":function(n,t){},"4Yhh":function(n,t){},"5RGO":function(n,t){},"5kgg":function(n,t){},"7Do+":function(n,t){},"84z/":function(n,t){},"8EM9":function(n,t){},"9Dq5":function(n,t){},"9vcT":function(n,t){},"EG+O":function(n,t){},Eawl:function(n,t){},Gu5N:function(n,t){},IBAp:function(n,t){},JNOS:function(n,t){},KL86:function(n,t){},LC7R:function(n,t){},LCUL:function(n,t){},MfYP:function(n,t){},MlKm:function(n,t){},NBYJ:function(n,t){},NHnr:function(n,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=e("7+uW"),o=(e("HZsc"),e("T1Qz"),e("c7fK")),i=(e("QgS+"),e("l3fg")),a={render:function(){var n,t=this.$createElement;return(this._self._c||t)("svg",{ref:"svg",class:(n={},n["graph-"+this.graphId]=!0,n)})},staticRenderFns:[]};var s=function(n){e("JNOS")},l='graph = {\n  /**\n   * for more graph options, node options, link options\n   * see https://github.com/dagrejs/dagre/wiki#configuring-the-layout\n   * and https://github.com/dagrejs/dagre-d3/wiki#demos\n   */\n  options: {\n    xOffset (svgWidth, graphWidth) {\n      return 600 + (svgWidth - 600 - graphWidth) / 2\n    },\n    yOffset (svgHeight, graphHeight) {\n      return 60\n    },\n    align: void 0, /** \'UL\', \'UR\', \'DL\', \'DR\', undefined */\n    rankdir: \'TB\', /** \'TB\', \'LR\', \'BT\', \'RL\' */\n    // ranker: \'longest-path\', /** network-simplex, tight-tree, longest-path */\n    nodesep: 100,\n    ranksep: 100,\n    edgesep: 100\n  },\n  nodes: [\n    {\n      id: 1,\n      label: "hello",\n      shape: "circle",\n      height: 150,\n      style: {\n        "stroke-width": "4px",\n        stroke: "red",\n        fill: "yellow",\n      },\n      labelStyle: {\n        "font-size":\n        "50px",\n        "font-style": "italic",\n        "text-decoration": "underline"\n      }\n    },\n    {\n      id: 2,\n      label: "world",\n      width: 90,\n      style: {\n        rx: "10px",\n        ry: "5px"\n      }\n    },\n    {\n      id: 3,\n      label: "jsfuck",\n      shape: "circle",\n    },\n    { id: 4, label: "js"}\n  ],\n  links: [\n    {\n      from: 1, to: 3,\n      labelpos: \'l\',\n      labeloffset: 10,\n      label: "arrowhead: vee",\n      arrowhead: "vee"\n    },\n    {\n      from: 2, to: 3,\n      label: "costum label style",\n      arrowhead: "vee",\n      labelStyle: {\n        "background-color": "red",\n        "border-radius": 0,\n        padding: 10\n      }\n    },\n    {\n      from: 3,\n      to: 4,\n      label: "eggplant",\n      arrowhead: "normal"\n    },\n    {\n      from: 4,\n      to: 1,\n      weight: 1,\n      label: "arrowhead: undirected",\n      arrowhead: "undirected"\n    }\n  ]\n}',c={name:"DagMaker",components:{Dag:e("VU/8")(i.a,a,!1,s,"data-v-e1e4a4f2",null).exports},data:function(){return{resizeListenerId:null,fullScreen:!1,editorValue:l}},methods:{displayFullScreen:function(){this.fullScreen=!this.fullScreen},renderEditor:function(){var n=this,t=o.editor.create(this.$refs.editor,{value:l,language:"javascript",automaticLayout:!0,scrollBeyondLastLine:!1,theme:"vs-dark",fontSize:14,minimap:{enabled:!1}});t.onDidChangeModelContent(function(e){n.editorValue=t.getValue()})}},mounted:function(){this.renderEditor()}},u={render:function(){var n=this,t=n.$createElement,e=n._self._c||t;return e("div",{staticClass:"main-panel"},[e("div",{ref:"editor",staticClass:"control-panel",class:{inactive:n.fullScreen}}),n._v(" "),e("div",{staticClass:"dag-panel"},[e("dag",{attrs:{graph:n.editorValue}})],1),n._v(" "),n.fullScreen?e("button",{staticClass:"full-screen-button",on:{click:n.displayFullScreen}},[n._v("关闭全屏")]):e("button",{staticClass:"full-screen-button",on:{click:n.displayFullScreen}},[n._v("全屏")])])},staticRenderFns:[]};var d={name:"App",components:{DagMaker:e("VU/8")(c,u,!1,function(n){e("cNCg")},"data-v-0f137e97",null).exports}},f={render:function(){var n=this.$createElement,t=this._self._c||n;return t("div",{attrs:{id:"app"}},[t("dag-maker")],1)},staticRenderFns:[]};var p=e("VU/8")(d,f,!1,function(n){e("vlHd")},null,null).exports;r.a.config.productionTip=!1,new r.a({el:"#app",components:{App:p},template:"<App/>"})},OkZj:function(n,t){},Q9Nm:function(n,t){},"R/+A":function(n,t){},WLse:function(n,t){},XTA7:function(n,t){},cNCg:function(n,t){},czDl:function(n,t){},gCdB:function(n,t){},gvGx:function(n,t){},"jF/U":function(n,t){},l3fg:function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0__utils_dagUtils__=__webpack_require__("+2lo");__webpack_exports__.a={name:"dag",props:["graph"],watch:{graph:function(){this.renderDag()}},data:function(){return{graphId:Object(__WEBPACK_IMPORTED_MODULE_0__utils_dagUtils__.a)()}},methods:{renderDag:function renderDag(){var graph=this.graph;if("string"==typeof this.graph)try{graph=this.graph.startsWith("{")?eval("graph = "+this.graph):eval(""+this.graph)}catch(n){return void console.log("parsing error")}Object(__WEBPACK_IMPORTED_MODULE_0__utils_dagUtils__.b)("svg.graph-"+this.graphId,graph)}},mounted:function(){this.renderDag()}}},nLHh:function(n,t){},rc56:function(n,t){},s0RT:function(n,t){},uHSv:function(n,t){},vlHd:function(n,t){},x33M:function(n,t){}},["NHnr"]);
//# sourceMappingURL=app.7a998bad13646b384f08.js.map